<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<fx:root type="javafx.scene.layout.HBox" 
         xmlns="http://javafx.com/javafx/17" 
         xmlns:fx="http://javafx.com/fxml"
         styleClass="fisheries-chat-container"
         stylesheets="@chatbot.css">

    <!-- Left Sidebar -->
    <VBox fx:id="leftSidebar" styleClass="chat-sidebar" prefWidth="280">
        
        <!-- Sidebar Header -->
        <VBox styleClass="sidebar-header" spacing="8">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="🐟" styleClass="fisheries-icon"/>
                <VBox spacing="2">
                    <Label text="Fisheries Assistant" styleClass="assistant-title" 
                           style="-fx-text-fill: white !important; -fx-font-size: 18px !important; -fx-font-weight: bold !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
                    <Label text="Smart AI Helper" styleClass="assistant-subtitle"
                           style="-fx-text-fill: rgba(255, 255, 255, 0.8) !important; -fx-font-size: 14px !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
                </VBox>
            </HBox>
            
            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="●" styleClass="online-indicator" 
                       style="-fx-text-fill: #10b981 !important; -fx-font-size: 12px !important;"/>
                <Label text="Online & Ready to Help" styleClass="status-text"
                       style="-fx-text-fill: rgba(255, 255, 255, 0.9) !important; -fx-font-size: 13px !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
            </HBox>
        </VBox>
        
        <!-- Quick Actions -->
        <VBox styleClass="quick-actions" spacing="12">
            <padding>
                <Insets top="0" right="20" bottom="20" left="20"/>
            </padding>
            
            <Label text="⚡ Quick Actions" styleClass="section-title"/>
            
            <VBox spacing="8">
                <Button fx:id="weatherBtn" text="🌤️ Weather Update" styleClass="quick-action-btn" onAction="#askWeather"/>
                <Label text="Current conditions" styleClass="action-subtitle"/>
                
                <Button fx:id="pricesBtn" text="🐟 Fish Prices" styleClass="quick-action-btn" onAction="#askPrices"/>
                <Label text="Today's market rates" styleClass="action-subtitle"/>
                
                <Button fx:id="spotsBtn" text="📍 Fishing Spots" styleClass="quick-action-btn" onAction="#askSpots"/>
                <Label text="Recommended locations" styleClass="action-subtitle"/>
                
                <Button fx:id="regulationsBtn" text="⚖️ Regulations" styleClass="quick-action-btn" onAction="#askRegulations"/>
                <Label text="Current fishing laws" styleClass="action-subtitle"/>
                
                <Button fx:id="emergencyBtn" text="📞 Emergency Help" styleClass="quick-action-btn emergency" onAction="#askEmergency"/>
                <Label text="Coast guard & safety" styleClass="action-subtitle"/>
            </VBox>
        </VBox>
        
    </VBox>

    <!-- Right Chat Area -->
    <VBox fx:id="chatWindowContainer" styleClass="chat-main-area" HBox.hgrow="ALWAYS" 
          style="-fx-background-color: white;">
        
        <!-- Chat Header -->
        <HBox fx:id="headerBar" styleClass="chat-header" alignment="CENTER_LEFT" spacing="15">
            <padding>
                <Insets top="16" right="20" bottom="16" left="20"/>
            </padding>
            
            <Label text="🤖" styleClass="chat-bot-icon"/>
            <VBox spacing="2">
                <Label text="Fisheries AI Assistant" styleClass="chat-title"/>
                <Label text="Ask me anything about fishing, weather, prices, and more!" styleClass="chat-subtitle"/>
            </VBox>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <Button fx:id="closeButton" text="✕" styleClass="chat-close-btn" onAction="#slideDown"/>
        </HBox>
        
        <!-- Welcome Message Area -->
        <VBox fx:id="welcomeArea" styleClass="welcome-area" spacing="15" 
              style="-fx-background-color: white;">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            
            <VBox styleClass="welcome-message-card" spacing="12" 
                  style="-fx-background-color: #3b82f6;">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <Label text="🌊" styleClass="welcome-icon"/>
                <Label text="Welcome to Smart Fisheries Assistant! 👋" styleClass="welcome-title"/>
                <Label text="I'm here to help you with:" styleClass="welcome-subtitle"/>
                
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="•" styleClass="bullet-point"/>
                        <Label text="Real-time weather updates and marine conditions" styleClass="feature-text"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="•" styleClass="bullet-point"/>
                        <Label text="Current fish prices across Sri Lankan markets" styleClass="feature-text"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="•" styleClass="bullet-point"/>
                        <Label text="Best fishing locations and times" styleClass="feature-text"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="•" styleClass="bullet-point"/>
                        <Label text="Fishing regulations and safety guidelines" styleClass="feature-text"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label text="•" styleClass="bullet-point"/>
                        <Label text="Species identification and fishing tips" styleClass="feature-text"/>
                    </HBox>
                </VBox>
                
                <Label text="How can I assist you today?" styleClass="welcome-question"/>
                <Label text="Just type..." styleClass="welcome-hint"/>
            </VBox>
        </VBox>
        
        <!-- Messages Area -->
        <ScrollPane fx:id="chatScrollPane" 
                    styleClass="chat-scroll"
                    fitToWidth="true"
                    VBox.vgrow="ALWAYS"
                    style="-fx-background-color: white;">
            <padding>
                <Insets top="10" right="20" bottom="10" left="20"/>
            </padding>
            
            <VBox fx:id="messageContainer" 
                  styleClass="chat-messages" 
                  spacing="15"
                  style="-fx-background-color: white;">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
            </VBox>
        </ScrollPane>
        
        <!-- Quick Suggestions -->
        <HBox fx:id="quickSuggestions" styleClass="quick-suggestions" spacing="10" alignment="CENTER_LEFT"
              style="-fx-background-color: white;">
            <padding>
                <Insets top="10" right="20" bottom="10" left="20"/>
            </padding>
            
            <Button text="Weather for fishing?" onAction="#askWeatherSuggestion"
                    style="-fx-background-color: #ffffff !important; -fx-text-fill: #000000 !important; -fx-border-color: #3b82f6 !important; -fx-border-width: 2px !important; -fx-font-weight: bold !important; -fx-background-radius: 8px !important; -fx-border-radius: 8px !important; -fx-padding: 12px 20px !important; -fx-font-size: 14px !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
            <Button text="Current fish prices" onAction="#askPricesSuggestion"
                    style="-fx-background-color: #ffffff !important; -fx-text-fill: #000000 !important; -fx-border-color: #3b82f6 !important; -fx-border-width: 2px !important; -fx-font-weight: bold !important; -fx-background-radius: 8px !important; -fx-border-radius: 8px !important; -fx-padding: 12px 20px !important; -fx-font-size: 14px !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
            <Button text="Best fishing spots" onAction="#askSpotsSuggestion"
                    style="-fx-background-color: #ffffff !important; -fx-text-fill: #000000 !important; -fx-border-color: #3b82f6 !important; -fx-border-width: 2px !important; -fx-font-weight: bold !important; -fx-background-radius: 8px !important; -fx-border-radius: 8px !important; -fx-padding: 12px 20px !important; -fx-font-size: 14px !important; -fx-font-family: 'Arial', 'Helvetica', sans-serif !important;"/>
        </HBox>
        
        <!-- Input Area -->
        <HBox fx:id="inputContainer" 
              styleClass="chat-input-container" 
              alignment="CENTER_LEFT" 
              spacing="15"
              style="-fx-background-color: white;">
            <padding>
                <Insets top="16" right="20" bottom="20" left="20"/>
            </padding>
            
            <Label text="🤖" styleClass="input-bot-icon"
                   style="-fx-background-color: #3b82f6; -fx-text-fill: white;"/>
            
            <TextField fx:id="messageInput" 
                       styleClass="chat-input"
                       promptText="Ask about weather, fish prices, fishing tips, or anything else..."
                       HBox.hgrow="ALWAYS"
                       onAction="#sendMessage"
                       style="-fx-background-color: #f8fafc; -fx-text-fill: #1f2937; -fx-prompt-text-fill: #6b7280;"/>
            
            <Button fx:id="sendButton" text="➤" styleClass="chat-send-btn" onAction="#sendMessage"
                    style="-fx-background-color: #10b981; -fx-text-fill: white;"/>
        </HBox>
        
    </VBox>
    
</fx:root>